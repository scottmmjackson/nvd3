/* nvd3 version 1.8.5-dev (https://github.com/novus/nvd3) 2017-06-16 */

!function(){function a(a,c){for(var d,e=1,f=arguments.length;++e<f;)a[d=arguments[e]]=b(a,c,c[d]);return a}function b(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}var c={};c.dev=!1,c.tooltip=c.tooltip||{},c.utils=c.utils||{},c.models=c.models||{},c.charts={},c.logs={},c.dom={},"undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"==typeof d3&&(d3=require("d3")),c.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),c.dev&&(c.dispatch.on("render_start",function(a){c.logs.startTime=+new Date}),c.dispatch.on("render_end",function(a){c.logs.endTime=+new Date,c.logs.totalTime=c.logs.endTime-c.logs.startTime,c.log("total",c.logs.totalTime)})),c.log=function(){if(c.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(c.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var a=Function.prototype.bind.call(console.log,console);a.apply(console,arguments)}return arguments[arguments.length-1]},c.deprecated=function(a,b){console&&console.warn&&console.warn("nvd3 warning: `"+a+"` has been deprecated. ",b||"")},c.render=function(a){a=a||1,c.render.active=!0,c.dispatch.render_start();var b=function(){for(var d,e,f=0;f<a&&(e=c.render.queue[f]);f++)d=e.generate(),typeof e.callback==typeof Function&&e.callback(d);c.render.queue.splice(0,f),c.render.queue.length?setTimeout(b):(c.dispatch.render_end(),c.render.active=!1)};setTimeout(b)},c.render.active=!1,c.render.queue=[],c.addGraph=function(a){typeof arguments[0]==typeof Function&&(a={generate:arguments[0],callback:arguments[1]}),c.render.queue.push(a),c.render.active||c.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=c),"undefined"!=typeof window&&(window.nv=c),c.dom.write=function(a){return void 0!==window.fastdom?fastdom.mutate(a):a()},c.dom.read=function(a){return void 0!==window.fastdom?fastdom.measure(a):a()},c.interactiveGuideline=function(){"use strict";function a(l){l.each(function(l){function m(){var c=d3.event.clientX-this.getBoundingClientRect().left,d=d3.event.clientY-this.getBoundingClientRect().top,e=!0,h=!1;if(k&&(c=d3.event.offsetX,d=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(e=!1),d3.event.target.className.baseVal.match("nv-legend")&&(h=!0)),e&&(c-=b.left,d-=b.top),"mouseout"===d3.event.type||c<0||d<0||c>o||d>p||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||h){if(k&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(j.nvPointerEventsClass)))return;return g.elementMouseout({mouseX:c,mouseY:d}),a.renderGuideLine(null),void j.hidden(!0)}j.hidden(!1);var i="function"==typeof f.rangeBands,l=void 0;if(i){var m=d3.bisect(f.range(),c)-1;if(!(f.range()[m]+f.rangeBand()>=c))return g.elementMouseout({mouseX:c,mouseY:d}),a.renderGuideLine(null),void j.hidden(!0);l=f.domain()[d3.bisect(f.range(),c)-1]}else l=f.invert(c);g.elementMousemove({mouseX:c,mouseY:d,pointXValue:l}),"dblclick"===d3.event.type&&g.elementDblclick({mouseX:c,mouseY:d,pointXValue:l}),"click"===d3.event.type&&g.elementClick({mouseX:c,mouseY:d,pointXValue:l}),"mousedown"===d3.event.type&&g.elementMouseDown({mouseX:c,mouseY:d,pointXValue:l}),"mouseup"===d3.event.type&&g.elementMouseUp({mouseX:c,mouseY:d,pointXValue:l})}var n=d3.select(this),o=d||960,p=e||400,q=n.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([l]);q.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),i&&(i.on("touchmove",m).on("mousemove",m,!0).on("mouseout",m,!0).on("mousedown",m,!0).on("mouseup",m,!0).on("dblclick",m).on("click",m),a.guideLine=null,a.renderGuideLine=function(b){h&&(a.guideLine&&a.guideLine.attr("x1")===b||c.dom.write(function(){var a=q.select(".nv-interactiveGuideLine").selectAll("line").data(null!=b?[c.utils.NaNtoZero(b)]:[],String);a.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",p).attr("y2",0),a.exit().remove()}))})})}var b={left:0,top:0},d=null,e=null,f=d3.scaleLinear(),g=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),h=!0,i=null,j=c.models.tooltip(),k=window.ActiveXObject;return j.duration(0).hideDelay(0).hidden(!1),a.dispatch=g,a.tooltip=j,a.margin=function(c){return arguments.length?(b.top=void 0!==c.top?c.top:b.top,b.left=void 0!==c.left?c.left:b.left,a):b},a.width=function(b){return arguments.length?(d=b,a):d},a.height=function(b){return arguments.length?(e=b,a):e},a.xScale=function(b){return arguments.length?(f=b,a):f},a.showGuideLine=function(b){return arguments.length?(h=b,a):h},a.svgContainer=function(b){return arguments.length?(i=b,a):i},a},c.interactiveBisect=function(a,b,c){"use strict";if(!(a instanceof Array))return null;var d;d="function"!=typeof c?function(a){return a.x}:c;var e=function(a,b){return d(a)-b},f=d3.bisector(e).left,g=d3.max([0,f(a,b)-1]),h=d(a[g]);if(void 0===h&&(h=g),h===b)return g;var i=d3.min([g+1,a.length-1]),j=d(a[i]);return void 0===j&&(j=i),Math.abs(j-b)>=Math.abs(h-b)?g:i},c.nearestValueIndex=function(a,b,c){"use strict";var d=1/0,e=null;return a.forEach(function(a,f){var g=Math.abs(b-a);null!=a&&g<=d&&g<c&&(d=g,e=f)}),e},c.models.tooltip=function(){"use strict";function a(){if(!l||!l.node()){var a=[1];l=d3.select(document.body).select("#"+d).data(a),l.enter().append("div").attr("class","nvtooltip "+(i||"xy-tooltip")).attr("id",d).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(q,!0).classed(q,!0),l.exit().remove()}}function b(){if(n&&w(e))return c.dom.write(function(){a();var b=u(e,l.node());b&&(l.node().innerHTML=b),y()}),b}var d="nvtooltip-"+Math.floor(1e5*Math.random()),e=null,f="w",g=25,h=0,i=null,j=!0,k=200,l=null,m={left:null,top:null},n=!0,o=100,p=!0,q="nv-pointer-events-none",r=function(a,b,c){return a},s=function(a){return a},t=function(a,b){return a},u=function(a,b){if(null===a)return"";var c=d3.select(document.createElement("table"));if(p){c.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(s(a.value))}var d=c.selectAll("tbody").data([a]).enter().append("tbody"),e=d.selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",function(a){return a.highlight});e.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(a){return a.color}),e.append("td").classed("key",!0).classed("total",function(a){return!!a.total}).html(function(a,b){return t(a.key,b)}),e.append("td").classed("value",!0).html(function(a,b){return r(a.value,b,a)}),e.filter(function(a,b){return void 0!==a.percent}).append("td").classed("percent",!0).html(function(a,b){return"("+d3.format("%")(a.percent)+")"}),e.selectAll("td").each(function(a){if(a.highlight){var b=d3.scaleLinear().domain([0,1]).range(["#fff",a.color]),c=.6;d3.select(this).style("border-bottom-color",b(c)).style("border-top-color",b(c))}});var f=c.node().outerHTML;return void 0!==a.footer&&(f+="<div class='footer'>"+a.footer+"</div>"),f},v=function(){var a={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var b=document.body.getBoundingClientRect();a.left-=b.left,a.top-=b.top}return a},w=function(a){if(a&&a.series){if(c.utils.isArray(a.series))return!0;if(c.utils.isObject(a.series))return a.series=[a.series],!0}return!1},x=function(a){var b,c,d,e=l.node().offsetHeight,h=l.node().offsetWidth,i=document.documentElement.clientWidth,j=document.documentElement.clientHeight;switch(f){case"e":b=-h-g,c=-e/2,a.left+b<0&&(b=g),(d=a.top+c)<0&&(c-=d),(d=a.top+c+e)>j&&(c-=d-j);break;case"w":b=g,c=-e/2,a.left+b+h>i&&(b=-h-g),(d=a.top+c)<0&&(c-=d),(d=a.top+c+e)>j&&(c-=d-j);break;case"n":b=-h/2-5,c=g,a.top+c+e>j&&(c=-e-g),(d=a.left+b)<0&&(b-=d),(d=a.left+b+h)>i&&(b-=d-i);break;case"s":b=-h/2,c=-e-g,a.top+c<0&&(c=g),(d=a.left+b)<0&&(b-=d),(d=a.left+b+h)>i&&(b-=d-i);break;case"center":b=-h/2,c=-e/2;break;default:b=0,c=0}return{left:b,top:c}},y=function(){c.dom.read(function(){var a=v(),b=x(a),c=a.left+b.left,d=a.top+b.top;if(j)l.interrupt().transition().delay(k).duration(0).style("opacity",0);else{var e="translate("+m.left+"px, "+m.top+"px)",f="translate("+Math.round(c)+"px, "+Math.round(d)+"px)",g=d3.interpolateString(e,f),h=l.style("opacity")<.1;l.interrupt().transition().duration(h?0:o).styleTween("transform",function(a){return g},"important").styleTween("-webkit-transform",function(a){return g}).style("-ms-transform",f).style("opacity",1)}m.left=c,m.top=d})};return b.nvPointerEventsClass=q,b.options=c.utils.optionsFunc.bind(b),b._options=Object.create({},{duration:{get:function(){return o},set:function(a){o=a}},gravity:{get:function(){return f},set:function(a){f=a}},distance:{get:function(){return g},set:function(a){g=a}},snapDistance:{get:function(){return h},set:function(a){h=a}},classes:{get:function(){return i},set:function(a){i=a}},enabled:{get:function(){return n},set:function(a){n=a}},hideDelay:{get:function(){return k},set:function(a){k=a}},contentGenerator:{get:function(){return u},set:function(a){u=a}},valueFormatter:{get:function(){return r},set:function(a){r=a}},headerFormatter:{get:function(){return s},set:function(a){s=a}},keyFormatter:{get:function(){return t},set:function(a){t=a}},headerEnabled:{get:function(){return p},set:function(a){p=a}},position:{get:function(){return v},set:function(a){v=a}},chartContainer:{get:function(){return document.body},set:function(a){c.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(a){c.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(a){c.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return j},set:function(a){j!=a&&(j=!!a,b())}},data:{get:function(){return e},set:function(a){a.point&&(a.value=a.point.x,a.series=a.series||{},a.series.value=a.point.y,a.series.color=a.point.color||a.series.color),e=a}},node:{get:function(){return l.node()},set:function(a){}},id:{get:function(){return d},set:function(a){}}}),c.utils.initOptions(b),b},c.utils.windowSize=function(){var a={width:640,height:480};return window.innerWidth&&window.innerHeight?(a.width=window.innerWidth,a.height=window.innerHeight,a):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(a.width=document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight,a):document.body&&document.body.offsetWidth?(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight,a):a},c.utils.isArray=Array.isArray,c.utils.isObject=function(a){return null!==a&&"object"==typeof a},c.utils.isFunction=function(a){return"function"==typeof a},c.utils.isDate=function(a){return"[object Date]"===toString.call(a)},c.utils.isNumber=function(a){return!isNaN(a)&&"number"==typeof a},c.utils.windowResize=function(a){return window.addEventListener?window.addEventListener("resize",a):c.log("ERROR: Failed to bind to window.resize with: ",a),{callback:a,clear:function(){window.removeEventListener("resize",a)}}},c.utils.getColor=function(a){if(void 0===a)return c.utils.defaultColor();if(c.utils.isArray(a)){var b=d3.scaleOrdinal().range(a);return function(a,c){var d=void 0===c?a:c;return a.color||b(d)}}return a},c.utils.defaultColor=function(){return c.utils.getColor(d3.scaleOrdinal(d3.schemeCategory20).range())},c.utils.customTheme=function(a,b,d){b=b||function(a){return a.key},d=d||d3.scaleOrdinal(d3.schemeCategory20).range();var e=d.length;return function(f,g){var h=b(f);return c.utils.isFunction(a[h])?a[h]():void 0!==a[h]?a[h]:(e||(e=d.length),e-=1,d[e])}},c.utils.pjax=function(a,b){var d=function(d){d3.html(d,function(d){var e=d3.select(b).node();e.parentNode.replaceChild(d3.select(d).select(b).node(),e),c.utils.pjax(a,b)})};d3.selectAll(a).on("click",function(){history.pushState(this.href,this.textContent,this.href),d(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&d(d3.event.state)})},c.utils.calcApproxTextWidth=function(a){if(c.utils.isFunction(a.style)&&c.utils.isFunction(a.text)){var b=parseInt(a.style("font-size").replace("px",""),10),d=a.text().length;return c.utils.NaNtoZero(d*b*.5)}return 0},c.utils.NaNtoZero=function(a){return!c.utils.isNumber(a)||isNaN(a)||null===a||a===1/0||a===-1/0?0:a},d3.selection.prototype.watchTransition=function(a){var b=[this].concat([].slice.call(arguments,1));return a.transition.apply(a,b)},c.utils.renderWatch=function(a,b){if(!(this instanceof c.utils.renderWatch))return new c.utils.renderWatch(a,b);var d=void 0!==b?b:250,e=[],f=this;this.models=function(a){return a=[].slice.call(arguments,0),a.forEach(function(a){a.__rendered=!1,function(a){a.dispatch.on("renderEnd",function(b){a.__rendered=!0,f.renderEnd("model")})}(a),e.indexOf(a)<0&&e.push(a)}),this},this.reset=function(a){void 0!==a&&(d=a),e=[]},this.transition=function(a,b,c){if(b=arguments.length>1?[].slice.call(arguments,1):[],c=b.length>1?b.pop():void 0!==d?d:250,a.__rendered=!1,e.indexOf(a)<0&&e.push(a),0===c)return a.__rendered=!0,a.delay=function(){return this},a.duration=function(){return this},a;0===a.length?a.__rendered=!0:a.every(function(a){return!a.length})?a.__rendered=!0:a.__rendered=!1;var g=0;return a.transition().duration(c).each(function(){++g}).each("end",function(c,d){0==--g&&(a.__rendered=!0,f.renderEnd.apply(this,b))})},this.renderEnd=function(){e.every(function(a){return a.__rendered})&&(e.forEach(function(a){a.__rendered=!1}),a.renderEnd.apply(this,arguments))}},c.utils.deepExtend=function(a){(arguments.length>1?[].slice.call(arguments,1):[]).forEach(function(b){for(var d in b){var e=c.utils.isArray(a[d]),f=c.utils.isObject(a[d]),g=c.utils.isObject(b[d]);f&&!e&&g?c.utils.deepExtend(a[d],b[d]):a[d]=b[d]}})},c.utils.state=function(){if(!(this instanceof c.utils.state))return new c.utils.state;var a={},b=function(){},d=function(){return{}},e=null,f=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(a){b(a,!0)}),this.getter=function(a){return d=a,this},this.setter=function(a,c){return c||(c=function(){}),b=function(b,d){a(b),d&&c()},this},this.init=function(a){e=e||{},c.utils.deepExtend(e,a)};var g=function(){var b=d();if(JSON.stringify(b)===JSON.stringify(a))return!1;for(var c in b)void 0===a[c]&&(a[c]={}),a[c]=b[c],f=!0;return!0};this.update=function(){e&&(b(e,!1),e=null),g.call(this)&&this.dispatch.change(a)}},c.utils.optionsFunc=function(a){return a&&d3.map(a).forEach(function(a,b){c.utils.isFunction(this[a])&&this[a](b)}.bind(this)),this},c.utils.calcTicksX=function(a,b){var d=1,e=0;for(e;e<b.length;e+=1){var f=b[e]&&b[e].values?b[e].values.length:0;d=f>d?f:d}return c.log("Requested number of ticks: ",a),c.log("Calculated max values to be: ",d),a=a>d?a=d-1:a,a=a<1?1:a,a=Math.floor(a),c.log("Calculating tick count as: ",a),a},c.utils.calcTicksY=function(a,b){return c.utils.calcTicksX(a,b)},c.utils.initOption=function(a,b){a._calls&&a._calls[b]?a[b]=a._calls[b]:(a[b]=function(c){return arguments.length?(a._overrides[b]=!0,a._options[b]=c,a):a._options[b]},a["_"+b]=function(c){return arguments.length?(a._overrides[b]||(a._options[b]=c),a):a._options[b]})},c.utils.initOptions=function(a){a._overrides=a._overrides||{};var b=Object.getOwnPropertyNames(a._options||{}),d=Object.getOwnPropertyNames(a._calls||{});b=b.concat(d);for(var e in b)c.utils.initOption(a,b[e])},c.utils.inheritOptionsD3=function(b,c,d){b._d3options=d.concat(b._d3options||[]),b._d3options=(b._d3options||[]).filter(function(a,b,c){return c.indexOf(a)===b}),d.unshift(c),d.unshift(b),a.apply(this,d)},c.utils.arrayUnique=function(a){return a.sort().filter(function(b,c){return!c||b!=a[c-1]})},c.utils.symbolMap=d3.map(),c.utils.symbol=function(){function a(a,e){var f=b.call(this,a,e),g=d.call(this,a,e);return-1!==d3.svg.symbolTypes.indexOf(f)?d3.svg.symbol().type(f).size(g)():c.utils.symbolMap.get(f)(g)}var b,d=64;return a.type=function(c){return arguments.length?(b=function(a){return function(){return a}}(c),a):b},a.size=function(b){return arguments.length?(d=function(a){return function(){return a}}(b),a):d},a},c.utils.inheritOptions=function(b,d){var e=Object.getOwnPropertyNames(d._options||{}),f=Object.getOwnPropertyNames(d._calls||{}),g=d._inherited||[],h=d._d3options||[],i=e.concat(f).concat(g).concat(h);i.unshift(d),i.unshift(b),a.apply(this,i),b._inherited=c.utils.arrayUnique(e.concat(f).concat(g).concat(e).concat(b._inherited||[])),b._d3options=c.utils.arrayUnique(h.concat(b._d3options||[]))},c.utils.initSVG=function(a){a.classed({"nvd3-svg":!0})},c.utils.sanitizeHeight=function(a,b){return a||parseInt(b.style("height"),10)||400},c.utils.sanitizeWidth=function(a,b){return a||parseInt(b.style("width"),10)||960},c.utils.availableHeight=function(a,b,d){return Math.max(0,c.utils.sanitizeHeight(a,b)-d.top-d.bottom)},c.utils.availableWidth=function(a,b,d){return Math.max(0,c.utils.sanitizeWidth(a,b)-d.left-d.right)},c.utils.noData=function(a,b){var d=a.options(),e=d.margin(),f=d.noData(),g=null==f?["No Data Available."]:[f],h=c.utils.availableHeight(null,b,e),i=c.utils.availableWidth(null,b,e),j=e.left+i/2,k=e.top+h/2;b.selectAll("g").remove();var l=b.selectAll(".nv-noData").data(g);l.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),l.attr("x",j).attr("y",k).text(function(a){return a})},c.utils.wrapTicks=function(a,b){a.each(function(){for(var a,c=d3.select(this),d=c.text().split(/\s+/).reverse(),e=[],f=0,g=1.1,h=c.attr("y"),i=parseFloat(c.attr("dy")),j=c.text(null).append("tspan").attr("x",0).attr("y",h).attr("dy",i+"em");a=d.pop();)e.push(a),j.text(e.join(" ")),j.node().getComputedTextLength()>b&&(e.pop(),j.text(e.join(" ")),e=[a],j=c.append("tspan").attr("x",0).attr("y",h).attr("dy",++f*g+i+"em").text(a))})},c.utils.arrayEquals=function(a,b){if(a===b)return!0;if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var d=0,e=a.length;d<e;d++)if(a[d]instanceof Array&&b[d]instanceof Array){if(!c.arrayEquals(a[d],b[d]))return!1}else if(a[d]!=b[d])return!1;return!0},c.utils.pointIsInArc=function(a,b,c){var d=c.innerRadius()(b),e=c.outerRadius()(b),f=c.startAngle()(b),g=c.endAngle()(b),h=a.x*a.x+a.y*a.y,i=Math.atan2(a.x,-a.y);return i=i<0?i+2*Math.PI:i,d*d<=h&&h<=e*e&&f<=i&&i<=g},c.models.axis=function(){"use strict";function a(i){return u.reset(),i.each(function(a){var i=d3.select(this);c.utils.initSVG(i);var s=i.selectAll("g.nv-wrap.nv-axis").data([a]),t=s.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),v=(t.append("g"),s.select("g"));null!==p?e.ticks(p):"top"!=e.orient()&&"bottom"!=e.orient()||e.ticks(Math.abs(f.range()[1]-f.range()[0])/100),v.watchTransition(u,"axis").call(e),d=d||e.scale();var w=e.tickFormat();null==w&&(w=d.tickFormat());var x=v.selectAll("text.nv-axislabel").data([j||null]);x.exit().remove(),void 0!==r&&v.selectAll("g").select("text").style("font-size",r);var y,z,A;switch(e.orient()){case"top":x.enter().append("text").attr("class","nv-axislabel"),A=0,1===f.range().length?A=o?2*f.range()[0]+f.rangeBand():0:2===f.range().length?A=o?f.range()[0]+f.range()[1]+f.rangeBand():f.range()[1]:f.range().length>2&&(A=f.range()[f.range().length-1]+(f.range()[1]-f.range()[0])),x.attr("text-anchor","middle").attr("y",0).attr("x",A/2),k&&(z=s.selectAll("g.nv-axisMaxMin").data(f.domain()),z.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),z.exit().remove(),z.attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(f(a))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-e.tickPadding()).attr("text-anchor","middle").text(function(a,c){var d=b||w,e=d(a);return(""+e).match("NaN")?"":e}),z.watchTransition(u,"min-max top").attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(f.range()[b])+",0)"}));break;case"bottom":y=q+36;var B=30,C=0,D=v.selectAll("g").select("text"),E="";if(l%360){D.attr("transform",""),D.each(function(a,b){var c=this.getBoundingClientRect(),d=c.width;C=c.height,d>B&&(B=d)}),E="rotate("+l+" 0,"+(C/2+e.tickPadding())+")";var F=Math.abs(Math.sin(l*Math.PI/180));y=(F?F*B:B)+30,D.attr("transform",E).style("text-anchor",l%360>0?"start":"end")}else n?D.attr("transform",function(a,b){return"translate(0,"+(b%2==0?"0":"12")+")"}):D.attr("transform","translate(0,0)");x.enter().append("text").attr("class","nv-axislabel"),A=0,1===f.range().length?A=o?2*f.range()[0]+f.rangeBand():0:2===f.range().length?A=o?f.range()[0]+f.range()[1]+f.rangeBand():f.range()[1]:f.range().length>2&&(A=f.range()[f.range().length-1]+(f.range()[1]-f.range()[0])),x.attr("text-anchor","middle").attr("y",y).attr("x",A/2),k&&(z=s.selectAll("g.nv-axisMaxMin").data([f.domain()[0],f.domain()[f.domain().length-1]]),z.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),z.exit().remove(),z.attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(f(a)+(o?f.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",e.tickPadding()).attr("transform",E).style("text-anchor",l?l%360>0?"start":"end":"middle").text(function(a,c){var d=b||w,e=d(a);return(""+e).match("NaN")?"":e}),z.watchTransition(u,"min-max bottom").attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(f(a)+(o?f.rangeBand()/2:0))+",0)"}));break;case"right":x.enter().append("text").attr("class","nv-axislabel"),x.style("text-anchor",m?"middle":"begin").attr("transform",m?"rotate(90)":"").attr("y",m?12-Math.max(g.right,h)-(q||0):-10).attr("x",m?d3.max(f.range())/2:e.tickPadding()),k&&(z=s.selectAll("g.nv-axisMaxMin").data(f.domain()),z.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),z.exit().remove(),z.attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(f(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",e.tickPadding()).style("text-anchor","start").text(function(a,c){var d=b||w,e=d(a);return(""+e).match("NaN")?"":e}),z.watchTransition(u,"min-max right").attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(f.range()[b])+")"}).select("text").style("opacity",1));break;case"left":x.enter().append("text").attr("class","nv-axislabel"),x.style("text-anchor",m?"middle":"end").attr("transform",m?"rotate(-90)":"").attr("y",m?25-Math.max(g.left,h)-(q||0):-10).attr("x",m?-d3.max(f.range())/2:-e.tickPadding()),k&&(z=s.selectAll("g.nv-axisMaxMin").data(f.domain()),z.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),z.exit().remove(),z.attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(d(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-e.tickPadding()).attr("text-anchor","end").text(function(a,c){var d=b||w,e=d(a);return(""+e).match("NaN")?"":e}),z.watchTransition(u,"min-max right").attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(f.range()[b])+")"}).select("text").style("opacity",1))}if(x.text(function(a){return a}),!k||"left"!==e.orient()&&"right"!==e.orient()||(v.selectAll("g").each(function(a,b){d3.select(this).select("text").attr("opacity",1),(f(a)<f.range()[1]+10||f(a)>f.range()[0]-10)&&((a>1e-10||a<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),f.domain()[0]==f.domain()[1]&&0==f.domain()[0]&&s.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return b?0:1})),k&&("top"===e.orient()||"bottom"===e.orient())){var G=[];s.selectAll("g.nv-axisMaxMin").each(function(a,b){try{b?G.push(f(a)-this.getBoundingClientRect().width-4):G.push(f(a)+this.getBoundingClientRect().width+4)}catch(c){b?G.push(f(a)-4):G.push(f(a)+4)}}),v.selectAll("g").each(function(a,b){(f(a)<G[0]||f(a)>G[1])&&(a>1e-10||a<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}v.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(1e5*a)/1e6)&&void 0!==a}).classed("zero",!0),d=f.copy()}),u.renderEnd("axis immediate"),a}var b,d,e=d3.axisBottom().tickFormat(function(a){return a}),f=d3.scaleLinear(),g={top:0,right:0,bottom:0,left:0},h=75,i=60,j=null,k=!0,l=0,m=!0,n=!1,o=!1,p=null,q=0,r=void 0,s=250,t=d3.dispatch("renderEnd"),u=c.utils.renderWatch(t,s);return a.axis=e,a.dispatch=t,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{axisLabelDistance:{get:function(){return q},set:function(a){q=a}},staggerLabels:{get:function(){return n},set:function(a){n=a}},rotateLabels:{get:function(){return l},set:function(a){l=a}},rotateYLabel:{get:function(){return m},set:function(a){m=a}},showMaxMin:{get:function(){return k},set:function(a){k=a}},axisLabel:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return i},set:function(a){i=a}},ticks:{get:function(){return p},set:function(a){p=a}},width:{get:function(){return h},set:function(a){h=a}},fontSize:{get:function(){return r},set:function(a){r=a}},tickFormatMaxMin:{get:function(){return b},set:function(a){b=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},duration:{get:function(){return s},set:function(a){s=a,u.reset(s)}},scale:{get:function(){return f},set:function(b){f=b,e.scale(f),o="function"==typeof f.rangeBands,c.utils.inheritOptionsD3(a,f,["domain","range","rangeBand","rangeBands"])}}}),c.utils.initOptions(a),c.utils.inheritOptionsD3(a,e,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),c.utils.inheritOptionsD3(a,f,["domain","range","rangeBand","rangeBands"]),a},c.models.focus=function(a){"use strict";function b(p){return q.reset(),q.models(a),l&&q.models(f),m&&q.models(g),p.each(function(p){var q=d3.select(this);c.utils.initSVG(q);var r=c.utils.availableWidth(j,q,h),s=k-h.top-h.bottom;b.update=function(){0===o?q.call(b):q.transition().duration(o).call(b)},b.container=this,d=a.xScale(),e=a.yScale();var t=q.selectAll("g.nv-focus").data([p]),u=t.enter().append("g").attr("class","nvd3 nv-focus").append("g"),v=t.select("g");t.attr("transform","translate("+h.left+","+h.top+")"),u.append("g").attr("class","nv-background").append("rect"),u.append("g").attr("class","nv-x nv-axis"),u.append("g").attr("class","nv-y nv-axis"),u.append("g").attr("class","nv-contentWrap"),n&&v.select(".nv-y.nv-axis").attr("transform","translate("+r+",0)"),v.select(".nv-background rect").attr("width",r).attr("height",s),a.width(r).height(s).color(p.map(function(a,b){return a.color||i(a,b)}).filter(function(a,b){return!p[b].disabled}));var w=v.select(".nv-contentWrap").datum(p.filter(function(a){return!a.disabled}));d3.transition(w).call(a),v.select(".nv-background rect").attr("width",r).attr("height",s),l&&(f.scale(d)._ticks(c.utils.calcTicksX(r/100,p)).tickSize(-s,0),v.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),d3.transition(v.select(".nv-x.nv-axis")).call(f)),m&&(g.scale(e)._ticks(c.utils.calcTicksY(s/36,p)).tickSize(-r,0),d3.transition(v.select(".nv-y.nv-axis")).call(g)),v.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")")}),q.renderEnd("focus immediate"),b}var d,e,a=a||c.models.line(),f=c.models.axis(),g=c.models.axis(),h={top:10,right:0,bottom:30,left:0},i=c.utils.defaultColor(),j=null,k=70,l=!0,m=!1,n=!1,o=250,p=d3.dispatch("renderEnd");a.interactive(!1),a.pointActive(function(a){return!1});var q=c.utils.renderWatch(p,o);return b.dispatch=p,b.content=a,b.xAxis=f,b.yAxis=g,b.options=c.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},set:function(a){k=a}},showXAxis:{get:function(){return l},set:function(a){l=a}},showYAxis:{get:function(){return m},set:function(a){m=a}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top,h.right=void 0!==a.right?a.right:h.right,h.bottom=void 0!==a.bottom?a.bottom:h.bottom,h.left=void 0!==a.left?a.left:h.left}},duration:{get:function(){return o},set:function(b){o=b,q.reset(o),a.duration(o),f.duration(o),g.duration(o)}},color:{get:function(){return i},set:function(b){i=c.utils.getColor(b),a.color(i)}},interpolate:{get:function(){return a.interpolate()},set:function(b){a.interpolate(b)}},xTickFormat:{get:function(){return f.tickFormat()},set:function(a){f.tickFormat(a)}},yTickFormat:{get:function(){return g.tickFormat()},set:function(a){g.tickFormat(a)}},x:{get:function(){return a.x()},set:function(b){a.x(b)}},y:{get:function(){return a.y()},set:function(b){a.y(b)}},rightAlignYAxis:{get:function(){return n},set:function(a){n=a,g.orient(n?"right":"left")}}}),c.utils.inheritOptions(b,a),c.utils.initOptions(b),b},c.models.legend=function(){"use strict";function a(s){function t(a,b){return"furious"!=r?"#000":p?a.disengaged?"#000":"#fff":p?void 0:(a.color||(a.color=h(a,b)),a.disabled?a.color:"#fff")}function u(a,b){return p&&"furious"==r&&a.disengaged?"#eee":a.color||h(a,b)}function v(a,b){return p&&"furious"==r?1:a.disabled?0:1}return s.each(function(a){var h=d-b.left-b.right,s=d3.select(this);c.utils.initSVG(s);var w=s.selectAll("g.nv-legend").data([a]),x=w.enter().append("g").attr("class","nvd3 nv-legend").append("g"),y=w.select("g");l?w.attr("transform","translate("+-b.right+","+b.top+")"):w.attr("transform","translate("+b.left+","+b.top+")");var z,A,B=y.selectAll(".nv-series").data(function(a){return"furious"!=r?a:a.filter(function(a){return!!p||!a.disengaged})}),C=B.enter().append("g").attr("class","nv-series");switch(r){case"furious":A=23;break;case"classic":A=20}if("classic"==r)C.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),z=B.select(".nv-legend-symbol");else if("furious"==r){C.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),z=B.select(".nv-legend-symbol"),C.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var D=B.select(".nv-check-box");D.each(function(a,b){d3.select(this).selectAll("path").attr("stroke",t(a,b))})}C.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var E=B.select("text.nv-legend-text");B.on("mouseover",function(a,b){q.legendMouseover(a,b)}).on("mouseout",function(a,b){q.legendMouseout(a,b)}).on("click",function(a,b){q.legendClick(a,b);var c=B.data();if(m){if("classic"==r)o?(c.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1}));else if("furious"==r)if(p)a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled;else if(!p){a.disabled=!a.disabled,a.userDisabled=a.disabled;var d=c.filter(function(a){return!a.disengaged})
;d.every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=!1})}q.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(n){if("furious"==r&&p)return;if(q.legendDblclick(a,b),m){var c=B.data();c.forEach(function(a){a.disabled=!0,"furious"==r&&(a.userDisabled=a.disabled)}),a.disabled=!1,"furious"==r&&(a.userDisabled=a.disabled),q.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}}),B.classed("nv-disabled",function(a){return a.userDisabled}),B.exit().remove(),E.attr("fill",t).text(function(a){return g(f(a))});var F=0;if(j){var G=[];B.each(function(a,b){var d;if(g(f(a))&&g(f(a)).length>i){var e=g(f(a)).substring(0,i);d=d3.select(this).select("text").text(e+"..."),d3.select(this).append("svg:title").text(g(f(a)))}else d=d3.select(this).select("text");var h;try{if((h=d.node().getComputedTextLength())<=0)throw Error()}catch(j){h=c.utils.calcApproxTextWidth(d)}G.push(h+k)});var H=0,I=[];for(F=0;F<h&&H<G.length;)I[H]=G[H],F+=G[H++];for(0===H&&(H=1);F>h&&H>1;){I=[],H--;for(var J=0;J<G.length;J++)G[J]>(I[J%H]||0)&&(I[J%H]=G[J]);F=I.reduce(function(a,b,c,d){return a+b})}for(var K=[],L=0,M=0;L<H;L++)K[L]=M,M+=I[L];B.attr("transform",function(a,b){return"translate("+K[b%H]+","+(5+Math.floor(b/H)*A)+")"}),l?y.attr("transform","translate("+(d-b.right-F)+","+b.top+")"):y.attr("transform","translate(0,"+b.top+")"),e=b.top+b.bottom+Math.ceil(G.length/H)*A}else{var N,O=5,P=5,Q=0;B.attr("transform",function(a,c){var e=d3.select(this).select("text").node().getComputedTextLength()+k;return N=P,d<b.left+b.right+N+e&&(P=N=5,O+=A),P+=e,P>Q&&(Q=P),F<N+Q&&(F=N+Q),"translate("+N+","+O+")"}),y.attr("transform","translate("+(d-b.right-Q)+","+b.top+")"),e=b.top+b.bottom+O+15}if("furious"==r){z.attr("width",function(a,b){return E[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),x.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);y.select(".nv-legend-bg").transition().duration(300).attr("x",-A).attr("width",F+A-12).attr("height",e+10).attr("y",-b.top-10).attr("opacity",p?1:0)}z.style("fill",u).style("fill-opacity",v).style("stroke",u)}),a}var b={top:5,right:0,bottom:5,left:0},d=400,e=20,f=function(a){return a.key},g=function(a){return a},h=c.utils.getColor(),i=20,j=!0,k=32,l=!0,m=!0,n=!0,o=!1,p=!1,q=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),r="classic";return a.dispatch=q,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},key:{get:function(){return f},set:function(a){f=a}},keyFormatter:{get:function(){return g},set:function(a){g=a}},align:{get:function(){return j},set:function(a){j=a}},maxKeyLength:{get:function(){return i},set:function(a){i=a}},rightAlign:{get:function(){return l},set:function(a){l=a}},padding:{get:function(){return k},set:function(a){k=a}},updateState:{get:function(){return m},set:function(a){m=a}},enableDoubleClick:{get:function(){return n},set:function(a){n=a}},radioButtonMode:{get:function(){return o},set:function(a){o=a}},expanded:{get:function(){return p},set:function(a){p=a}},vers:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top,b.right=void 0!==a.right?a.right:b.right,b.bottom=void 0!==a.bottom?a.bottom:b.bottom,b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a)}}}),c.utils.initOptions(a),a},c.models.scatter=function(){"use strict";function a(a){var b;return b=a[0].series+":"+a[1],_[b]=_[b]||{}}function b(a){var b;b=a[0].series+":"+a[1],delete _[b]}function d(b){var c,d,e,f=a(b),g=!1;for(c=1;c<arguments.length;c+=2)d=arguments[c],e=arguments[c+1](b[0],b[1]),f[d]===e&&f.hasOwnProperty(d)||(f[d]=e,g=!0);return g}function e(a){return Z.reset(),a.each(function(a){function V(){if(Y=!1,!E)return!1;if(!0===U){ha.select(".nv-point-paths").selectAll("path").remove();var b=d3.merge(a.map(function(a,b){return a.values.map(function(a,d){var e=x(a,d),f=y(a,d);return[c.utils.NaNtoZero(u(e))+1e-4*Math.random(),c.utils.NaNtoZero(v(f))+1e-4*Math.random(),b,d,a]}).filter(function(a,b){return F(a[4],b)})}));if(0==b.length)return!1;b.length<3&&(b.push([u.range()[0]-20,v.range()[0]-20,null,null]),b.push([u.range()[1]+20,v.range()[1]+20,null,null]),b.push([u.range()[0]-20,v.range()[0]+20,null,null]),b.push([u.range()[1]+20,v.range()[1]-20,null,null]));var d=d3.geom.polygon([[-10,-10],[-10,p+10],[o+10,p+10],[o+10,-10]]),e=1e-4;b=b.sort(function(a,b){return a[0]-b[0]||a[1]-b[1]});for(var f=0;f<b.length-1;)Math.abs(b[f][0]-b[f+1][0])<e&&Math.abs(b[f][1]-b[f+1][1])<e?b.splice(f+1,1):f++;var g=d3.geom.voronoi(b).map(function(a,c){return{data:d.clip(a),series:b[c][2],point:b[c][3]}}),h=ha.select(".nv-point-paths").selectAll("path").data(g),i=h.enter().append("svg:path").attr("d",function(a){return a&&a.data&&0!==a.data.length?"M"+a.data.join(",")+"Z":"M 0 0"}).attr("id",function(a,b){return"nv-path-"+b}).attr("clip-path",function(a,b){return"url(#nv-clip-"+s+"-"+b+")"});if(K&&i.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),J){ha.select(".nv-point-clips").selectAll("*").remove();var j=ha.select(".nv-point-clips").selectAll("clipPath").data(b);j.enter().append("svg:clipPath").attr("id",function(a,b){return"nv-clip-"+s+"-"+b}).append("svg:circle").attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]}).attr("r",L)}var k=function(b,c,d){if(Y)return 0;var e=a[c.series];if(void 0!==e){var f=e.values[c.point];f.color=q(e,c.series),f.x=x(f),f.y=y(f);var g=t.node().getBoundingClientRect(),h=window.pageYOffset||document.documentElement.scrollTop,i=window.pageXOffset||document.documentElement.scrollLeft;d({point:f,series:e,pos:{left:u(x(f,c.point))+g.left+i+n.left+10,top:v(y(f,c.point))+g.top+h+n.top+10},relativePos:[u(x(f,c.point))+n.left,v(y(f,c.point))+n.top],seriesIndex:c.series,pointIndex:c.point,event:d3.event,element:b})}};h.on("click",function(a){k(this,a,T.elementClick)}).on("dblclick",function(a){k(this,a,T.elementDblClick)}).on("mouseover",function(a){k(this,a,T.elementMouseover)}).on("mouseout",function(a,b){k(this,a,T.elementMouseout)})}else ha.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(b,c){if(Y||!a[b.series])return 0;var d=a[b.series],e=d.values[c],f=this;T.elementClick({point:e,series:d,pos:[u(x(e,c))+n.left,v(y(e,c))+n.top],relativePos:[u(x(e,c))+n.left,v(y(e,c))+n.top],seriesIndex:b.series,pointIndex:c,event:d3.event,element:f})}).on("dblclick",function(b,c){if(Y||!a[b.series])return 0;var d=a[b.series],e=d.values[c];T.elementDblClick({point:e,series:d,pos:[u(x(e,c))+n.left,v(y(e,c))+n.top],relativePos:[u(x(e,c))+n.left,v(y(e,c))+n.top],seriesIndex:b.series,pointIndex:c})}).on("mouseover",function(b,c){if(Y||!a[b.series])return 0;var d=a[b.series],e=d.values[c];T.elementMouseover({point:e,series:d,pos:[u(x(e,c))+n.left,v(y(e,c))+n.top],relativePos:[u(x(e,c))+n.left,v(y(e,c))+n.top],seriesIndex:b.series,pointIndex:c,color:q(b,c)})}).on("mouseout",function(b,c){if(Y||!a[b.series])return 0;var d=a[b.series],e=d.values[c];T.elementMouseout({point:e,series:d,pos:[u(x(e,c))+n.left,v(y(e,c))+n.top],relativePos:[u(x(e,c))+n.left,v(y(e,c))+n.top],seriesIndex:b.series,pointIndex:c,color:q(b,c)})})}t=d3.select(this);var _=c.utils.availableWidth(o,t,n),aa=c.utils.availableHeight(p,t,n);c.utils.initSVG(t),a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var ba="function"==typeof e.yScale().base,ca=M&&N&&Q?[]:d3.merge(a.map(function(a){return a.values.map(function(a,b){return{x:x(a,b),y:y(a,b),size:z(a,b)}})}));if(u.domain(M||d3.extent(ca.map(function(a){return a.x}).concat(B))),G&&a[0]?u.range(O||[(_*H+_)/(2*a[0].values.length),_-_*(1+H)/(2*a[0].values.length)]):u.range(O||[0,_]),ba){var da=d3.min(ca.map(function(a){if(0!==a.y)return a.y}));v.clamp(!0).domain(N||d3.extent(ca.map(function(a){return 0!==a.y?a.y:.1*da}).concat(C))).range(P||[aa,0])}else v.domain(N||d3.extent(ca.map(function(a){return a.y}).concat(C))).range(P||[aa,0]);w.domain(Q||d3.extent(ca.map(function(a){return a.size}).concat(D))).range(R||$),S=u.domain()[0]===u.domain()[1]||v.domain()[0]===v.domain()[1],u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]):u.domain([-1,1])),v.domain()[0]===v.domain()[1]&&(v.domain()[0]?v.domain([v.domain()[0]-.01*v.domain()[0],v.domain()[1]+.01*v.domain()[1]]):v.domain([-1,1])),isNaN(u.domain()[0])&&u.domain([-1,1]),isNaN(v.domain()[0])&&v.domain([-1,1]),f=f||u,g=g||v,h=h||w;var ea=u(1)!==f(1)||v(1)!==g(1)||w(1)!==h(1);k=k||o,l=l||p;var fa=k!==o||l!==p;i=i||[];var ga=i[0]!==u.domain()[0]||i[1]!==u.domain()[1];i=u.domain(),j=j||[],ga=ga||j[0]!==v.domain()[0]||j[1]!==v.domain()[1],j=v.domain();var ha=t.selectAll("g.nv-wrap.nv-scatter").data([a]),ia=ha.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+s),ja=ia.append("defs"),ka=ia.append("g"),la=ha.select("g");ha.classed("nv-single-point",S),ka.append("g").attr("class","nv-groups"),ka.append("g").attr("class","nv-point-paths"),ia.append("g").attr("class","nv-point-clips"),ha.attr("transform","translate("+n.left+","+n.top+")"),ja.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect").attr("transform","translate( -10, -10)"),ha.select("#nv-edge-clip-"+s+" rect").attr("width",_+20).attr("height",aa>0?aa+20:0),la.attr("clip-path",I?"url(#nv-edge-clip-"+s+")":""),Y=!0;var ma=ha.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});ma.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),ma.exit().remove(),ma.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("nv-noninteractive",!E).classed("hover",function(a){return a.hover}),ma.watchTransition(Z,"scatter: groups").style("fill",function(a,b){return q(a,b)}).style("stroke",function(a,b){return a.pointBorderColor||r||q(a,b)}).style("stroke-opacity",1).style("fill-opacity",.5);var na=ma.selectAll("path.nv-point").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return F(a[0],b)})});if(na.enter().append("path").attr("class",function(a){return"nv-point nv-point-"+a[1]}).style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(a){return"translate("+c.utils.NaNtoZero(f(x(a[0],a[1])))+","+c.utils.NaNtoZero(g(y(a[0],a[1])))+")"}).attr("d",c.utils.symbol().type(function(a){return A(a[0])}).size(function(a){return w(z(a[0],a[1]))})),na.exit().each(b).remove(),ma.exit().selectAll("path.nv-point").watchTransition(Z,"scatter exit").attr("transform",function(a){return"translate("+c.utils.NaNtoZero(u(x(a[0],a[1])))+","+c.utils.NaNtoZero(v(y(a[0],a[1])))+")"}).remove(),na.filter(function(a){return d(a,"x",x,"y",y)||ea||fa||ga}).watchTransition(Z,"scatter points").attr("transform",function(a){return"translate("+c.utils.NaNtoZero(u(x(a[0],a[1])))+","+c.utils.NaNtoZero(v(y(a[0],a[1])))+")"}),na.filter(function(a){return d(a,"shape",A,"size",z)||ea||fa||ga}).watchTransition(Z,"scatter points").attr("d",c.utils.symbol().type(function(a){return A(a[0])}).size(function(a){return w(z(a[0],a[1]))})),X){var oa=ma.selectAll(".nv-label").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return F(a[0],b)})});oa.enter().append("text").style("fill",function(a,b){return a.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(a){return"translate("+(c.utils.NaNtoZero(f(x(a[0],a[1])))+Math.sqrt(w(z(a[0],a[1]))/Math.PI)+2)+","+c.utils.NaNtoZero(g(y(a[0],a[1])))+")"}).text(function(a,b){return a[0].label}),oa.exit().remove(),ma.exit().selectAll("path.nv-label").watchTransition(Z,"scatter exit").attr("transform",function(a){return"translate("+(c.utils.NaNtoZero(u(x(a[0],a[1])))+Math.sqrt(w(z(a[0],a[1]))/Math.PI)+2)+","+c.utils.NaNtoZero(v(y(a[0],a[1])))+")"}).remove(),oa.each(function(a){d3.select(this).classed("nv-label",!0).classed("nv-label-"+a[1],!1).classed("hover",!1)}),oa.watchTransition(Z,"scatter labels").attr("transform",function(a){return"translate("+(c.utils.NaNtoZero(u(x(a[0],a[1])))+Math.sqrt(w(z(a[0],a[1]))/Math.PI)+2)+","+c.utils.NaNtoZero(v(y(a[0],a[1])))+")"})}W?(clearTimeout(m),m=setTimeout(V,W)):V(),f=u.copy(),g=v.copy(),h=w.copy(),k=o,l=p}),Z.renderEnd("scatter immediate"),e}var f,g,h,i,j,k,l,m,n={top:0,right:0,bottom:0,left:0},o=null,p=null,q=c.utils.defaultColor(),r=null,s=Math.floor(1e5*Math.random()),t=null,u=d3.scaleLinear(),v=d3.scaleLinear(),w=d3.scaleLinear(),x=function(a){return a.x},y=function(a){return a.y},z=function(a){return a.size||1},A=function(a){return a.shape||"circle"},B=[],C=[],D=[],E=!0,F=function(a){return!a.notActive},G=!1,H=.1,I=!1,J=!0,K=!1,L=function(){return 25},M=null,N=null,O=null,P=null,Q=null,R=null,S=!1,T=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),U=!0,V=250,W=300,X=!1,Y=!1,Z=c.utils.renderWatch(T,V),$=[16,256],_={};return e.dispatch=T,e.options=c.utils.optionsFunc.bind(e),e._calls=new function(){this.clearHighlights=function(){return c.dom.write(function(){t.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(a,b,d){c.dom.write(function(){t.select(".nv-groups").selectAll(".nv-series-"+a).selectAll(".nv-point-"+b).classed("hover",d)})}},T.on("elementMouseover.point",function(a){E&&e._calls.highlightPoint(a.seriesIndex,a.pointIndex,!0)}),T.on("elementMouseout.point",function(a){E&&e._calls.highlightPoint(a.seriesIndex,a.pointIndex,!1)}),e._options=Object.create({},{width:{get:function(){return o},set:function(a){o=a}},height:{get:function(){return p},set:function(a){p=a}},xScale:{get:function(){return u},set:function(a){u=a}},yScale:{get:function(){return v},set:function(a){v=a}},pointScale:{get:function(){return w},set:function(a){w=a}},xDomain:{get:function(){return M},set:function(a){M=a}},yDomain:{get:function(){return N},set:function(a){N=a}},pointDomain:{get:function(){return Q},set:function(a){Q=a}},xRange:{get:function(){return O},set:function(a){O=a}},yRange:{get:function(){return P},set:function(a){P=a}},pointRange:{get:function(){return R},set:function(a){R=a}},forceX:{get:function(){return B},set:function(a){B=a}},forceY:{get:function(){return C},set:function(a){C=a}},forcePoint:{get:function(){return D},set:function(a){D=a}},interactive:{get:function(){return E},set:function(a){E=a}},pointActive:{get:function(){return F},set:function(a){F=a}},padDataOuter:{get:function(){return H},set:function(a){H=a}},padData:{get:function(){return G},set:function(a){G=a}},clipEdge:{get:function(){return I},set:function(a){I=a}},clipVoronoi:{get:function(){return J},set:function(a){J=a}},clipRadius:{get:function(){return L},set:function(a){L=a}},showVoronoi:{get:function(){return K},set:function(a){K=a}},id:{get:function(){return s},set:function(a){s=a}},interactiveUpdateDelay:{get:function(){return W},set:function(a){W=a}},showLabels:{get:function(){return X},set:function(a){X=a}},pointBorderColor:{get:function(){return r},set:function(a){r=a}},x:{get:function(){return x},set:function(a){x=function(a){return function(){return a}}(a)}},y:{get:function(){return y},set:function(a){y=function(a){return function(){return a}}(a)}},pointSize:{get:function(){return z},set:function(a){z=function(a){return function(){return a}}(a)}},pointShape:{get:function(){return A},set:function(a){A=function(a){return function(){return a}}(a)}},margin:{get:function(){return n},set:function(a){n.top=void 0!==a.top?a.top:n.top,n.right=void 0!==a.right?a.right:n.right,n.bottom=void 0!==a.bottom?a.bottom:n.bottom,n.left=void 0!==a.left?a.left:n.left}},duration:{get:function(){return V},set:function(a){V=a,Z.reset(V)}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a)}},useVoronoi:{get:function(){return U},set:function(a){!1===(U=a)&&(J=!1)}}}),c.utils.initOptions(e),e},c.models.stackedArea=function(){"use strict";function a(n){return v.reset(),v.models(s),n.each(function(n){var t=f-e.left-e.right,w=g-e.top-e.bottom;j=d3.select(this),c.utils.initSVG(j),b=s.xScale(),d=s.yScale();var x=n;n.forEach(function(a,b){a.seriesIndex=b,a.values=a.values.map(function(a,c){return a.index=c,a.seriesIndex=b,a})});var y=n.filter(function(a){return!a.disabled});n=d3.layout.stack().order(p).offset(o).values(function(a){return a.values}).x(k).y(l).out(function(a,b,c){a.display={y:c,y0:b}})(y);var z=j.selectAll("g.nv-wrap.nv-stackedarea").data([n]),A=z.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),B=A.append("defs"),C=A.append("g"),D=z.select("g");C.append("g").attr("class","nv-areaWrap"),C.append("g").attr("class","nv-scatterWrap"),z.attr("transform","translate("+e.left+","+e.top+")"),0==s.forceY().length&&s.forceY().push(0),s.width(t).height(w).x(k).y(function(a){if(void 0!==a.display)return a.display.y+a.display.y0}).color(n.map(function(a,b){return a.color=a.color||h(a,a.seriesIndex),a.color})),D.select(".nv-scatterWrap").datum(n).call(s),B.append("clipPath").attr("id","nv-edge-clip-"+i).append("rect"),z.select("#nv-edge-clip-"+i+" rect").attr("width",t).attr("height",w),D.attr("clip-path",r?"url(#nv-edge-clip-"+i+")":"");var E=d3.svg.area().defined(m).x(function(a,c){return b(k(a,c))}).y0(function(a){return d(a.display.y0)}).y1(function(a){return d(a.display.y+a.display.y0)}).interpolate(q),F=d3.svg.area().defined(m).x(function(a,c){return b(k(a,c))}).y0(function(a){return d(a.display.y0)}).y1(function(a){return d(a.display.y0)}),G=D.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});G.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a,b){return F(a.values,a.seriesIndex)}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0),u.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),u.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a,b){d3.select(this).classed("hover",!1),u.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}),G.exit().remove(),G.style("fill",function(a,b){return a.color||h(a,a.seriesIndex)}).style("stroke",function(a,b){return a.color||h(a,a.seriesIndex)}),G.watchTransition(v,"stackedArea path").attr("d",function(a,b){return E(a.values,b)}),s.dispatch.on("elementMouseover.area",function(a){D.select(".nv-chart-"+i+" .nv-area-"+a.seriesIndex).classed("hover",!0)}),s.dispatch.on("elementMouseout.area",function(a){D.select(".nv-chart-"+i+" .nv-area-"+a.seriesIndex).classed("hover",!1)}),a.d3_stackedOffset_stackPercent=function(a){var b,c,d,e=a.length,f=a[0].length,g=[];for(c=0;c<f;++c){for(b=0,d=0;b<x.length;b++)d+=l(x[b].values[c]);if(d)for(b=0;b<e;b++)a[b][c][1]/=d;else for(b=0;b<e;b++)a[b][c][1]=0}for(c=0;c<f;++c)g[c]=0;return g}}),v.renderEnd("stackedArea immediate"),a}var b,d,e={top:0,right:0,bottom:0,left:0},f=960,g=500,h=c.utils.defaultColor(),i=Math.floor(1e5*Math.random()),j=null,k=function(a){return a.x},l=function(a){return a.y},m=function(a,b){return!isNaN(l(a,b))&&null!==l(a,b)},n="stack",o="zero",p="default",q="linear",r=!1,s=c.models.scatter(),t=250,u=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");s.pointSize(2.2).pointDomain([2.2,2.2]);var v=c.utils.renderWatch(u,t);return a.dispatch=u,a.scatter=s,s.dispatch.on("elementClick",function(){u.elementClick.apply(this,arguments)}),s.dispatch.on("elementMouseover",function(){u.elementMouseover.apply(this,arguments)}),s.dispatch.on("elementMouseout",function(){u.elementMouseout.apply(this,arguments)}),a.interpolate=function(b){return arguments.length?(q=b,a):q},a.duration=function(b){return arguments.length?(t=b,v.reset(t),s.duration(t),a):t},a.dispatch=u,a.scatter=s,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return g},set:function(a){g=a}},defined:{get:function(){return m},set:function(a){m=a}},clipEdge:{get:function(){return r},set:function(a){r=a}},offset:{get:function(){return o},set:function(a){o=a}},order:{get:function(){return p},set:function(a){p=a}},interpolate:{get:function(){return q},set:function(a){q=a}},x:{get:function(){return k},set:function(a){k=function(a){return function(){return a}}(a)}},y:{get:function(){return l},set:function(a){l=function(a){return function(){return a}}(a)}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a)}},style:{get:function(){return n},set:function(b){switch(n=b){case"stack":a.offset("zero"),a.order("default");break;case"stream":a.offset("wiggle"),a.order("inside-out");break;case"stream-center":a.offset("silhouette"),a.order("inside-out");break;case"expand":a.offset("expand"),a.order("default");break;case"stack_percent":a.offset(a.d3_stackedOffset_stackPercent),a.order("default")}}},duration:{get:function(){return t},set:function(a){t=a,v.reset(t),s.duration(t)}}}),c.utils.inheritOptions(a,s),c.utils.initOptions(a),a},c.models.stackedAreaChart=function(){"use strict";function a(k){return L.reset(),L.models(e),u&&L.models(f),v&&L.models(g),k.each(function(k){function D(){u&&X.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+T+")").transition().duration(I).call(f)}function L(){if(v){if("expand"===e.style()||"stack_percent"===e.style()){var a=g.tickFormat();J&&a===P||(J=a),g.tickFormat(P)}else J&&(g.tickFormat(J),J=null);X.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(g)}}function Q(a){X.select(".nv-focus .nv-stackedWrap").datum(k.filter(function(a){return!a.disabled}).map(function(b,c){return{key:b.key,area:b.area,classed:b.classed,values:b.values.filter(function(b,c){return e.x()(b,c)>=a[0]&&e.x()(b,c)<=a[1]}),disableTooltip:b.disableTooltip}})).transition().duration(I).call(e),D(),L()}var R=d3.select(this);c.utils.initSVG(R);var S=c.utils.availableWidth(o,R,m),T=c.utils.availableHeight(p,R,m)-(x?l.height():0);if(a.update=function(){R.transition().duration(I).call(a)},a.container=this,B.setter(O(k),a.update).getter(N(k)).update(),B.disabled=k.map(function(a){return!!a.disabled}),!C){var U;C={};for(U in B)B[U]instanceof Array?C[U]=B[U].slice(0):C[U]=B[U]}if(!(k&&k.length&&k.filter(function(a){return a.values.length}).length))return c.utils.noData(a,R),a;R.selectAll(".nv-noData").remove(),b=e.xScale(),d=e.yScale();var V=R.selectAll("g.nv-wrap.nv-stackedAreaChart").data([k]),W=V.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),X=V.select("g");W.append("g").attr("class","nv-legendWrap"),W.append("g").attr("class","nv-controlsWrap");var Y=W.append("g").attr("class","nv-focus");Y.append("g").attr("class","nv-background").append("rect"),Y.append("g").attr("class","nv-x nv-axis"),Y.append("g").attr("class","nv-y nv-axis"),Y.append("g").attr("class","nv-stackedWrap"),Y.append("g").attr("class","nv-interactive");W.append("g").attr("class","nv-focusWrap");if(s){var Z=r&&"top"===t?S-F:S;if(h.width(Z),X.select(".nv-legendWrap").datum(k).call(h),"bottom"===t){var $=10+(u?12:0);m.bottom=Math.max(h.height()+$,m.bottom),T=c.utils.availableHeight(p,R,m)-(x?l.height():0);var _=T+$;X.select(".nv-legendWrap").attr("transform","translate(0,"+_+")")}else"top"===t&&(n||m.top==h.height()||(m.top=h.height(),T=c.utils.availableHeight(p,R,m)-(x?l.height():0)),X.select(".nv-legendWrap").attr("transform","translate("+(S-Z)+","+-m.top+")"))}else X.select(".nv-legendWrap").selectAll("*").remove();if(r){var aa=[{key:H.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=e.style(),style:"stack"},{key:H.stream||"Stream",metaKey:"Stream",disabled:"stream"!=e.style(),style:"stream"},{key:H.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=e.style(),style:"expand"},{key:H.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=e.style(),style:"stack_percent"}];F=G.length/3*260,aa=aa.filter(function(a){return-1!==G.indexOf(a.metaKey)}),i.width(F).color(["#444","#444","#444"]),X.select(".nv-controlsWrap").datum(aa).call(i);var ba=Math.max(i.height(),s&&"top"===t?h.height():0);m.top!=ba&&(m.top=ba,T=c.utils.availableHeight(p,R,m)-(x?l.height():0)),X.select(".nv-controlsWrap").attr("transform","translate(0,"+-m.top+")")}else X.select(".nv-controlsWrap").selectAll("*").remove();V.attr("transform","translate("+m.left+","+m.top+")"),w&&X.select(".nv-y.nv-axis").attr("transform","translate("+S+",0)"),y&&(j.width(S).height(T).margin({left:m.left,top:m.top}).svgContainer(R).xScale(b),V.select(".nv-interactive").call(j)),X.select(".nv-focus .nv-background rect").attr("width",S).attr("height",T),e.width(S).height(T).color(k.map(function(a,b){return a.color||q(a,b)}).filter(function(a,b){return!k[b].disabled}));var ca=X.select(".nv-focus .nv-stackedWrap").datum(k.filter(function(a){return!a.disabled}));if(u&&f.scale(b)._ticks(c.utils.calcTicksX(S/100,k)).tickSize(-T,0),v){var da;da="wiggle"===e.offset()?0:c.utils.calcTicksY(T/36,k),g.scale(d)._ticks(da).tickSize(-S,0)}if(x){l.width(S),X.select(".nv-focusWrap").attr("transform","translate(0,"+(T+m.bottom+l.margin().top)+")").datum(k.filter(function(a){return!a.disabled})).call(l);var ea=l.brush.empty()?l.xDomain():l.brush.extent();null!==ea&&Q(ea)}else ca.transition().call(e),D(),L();e.dispatch.on("areaClick.toggle",function(b){1===k.filter(function(a){return!a.disabled}).length?k.forEach(function(a){a.disabled=!1}):k.forEach(function(a,c){a.disabled=c!=b.seriesIndex}),B.disabled=k.map(function(a){return!!a.disabled}),E.stateChange(B),a.update()}),h.dispatch.on("stateChange",function(b){for(var c in b)B[c]=b[c];E.stateChange(B),a.update()}),i.dispatch.on("legendClick",function(b,c){b.disabled&&(aa=aa.map(function(a){return a.disabled=!0,a}),b.disabled=!1,e.style(b.style),B.style=e.style(),E.stateChange(B),a.update())}),j.dispatch.on("elementMousemove",function(b){e.clearHighlights();var d,f,g,h=[],i=0,l=!0,m=!1;if(k.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(j,n){f=c.interactiveBisect(j.values,b.pointXValue,a.x());var o=j.values[f],p=a.y()(o,f);if(null!=p&&p>0&&(e.highlightPoint(n,f,!0),m=!0),n!==k.length-1||m||e.highlightPoint(n,f,!0),void 0!==o){void 0===d&&(d=o),void 0===g&&(g=a.xScale()(a.x()(o,f)));var r="expand"==e.style()?o.display.y:a.y()(o,f);h.push({key:j.key,value:r,color:q(j,j.seriesIndex),point:o}),z&&"expand"!=e.style()&&null!=r&&(i+=r,l=!1)}}),h.reverse(),h.length>2){var n=a.yScale().invert(b.mouseY),o=null;h.forEach(function(a,b){n=Math.abs(n);var c=Math.abs(a.point.display.y0),d=Math.abs(a.point.display.y);if(n>=c&&n<=d+c)return void(o=b)}),null!=o&&(h[o].highlight=!0)}z&&"expand"!=e.style()&&h.length>=2&&!l&&h.push({key:A,value:i,total:!0});var p=a.x()(d,f),r=j.tooltip.valueFormatter();"expand"===e.style()||"stack_percent"===e.style()?(K||(K=r),r=d3.format(".1%")):K&&(r=K,K=null),j.tooltip.valueFormatter(r).data({value:p,series:h})(),j.renderGuideLine(g)}),j.dispatch.on("elementMouseout",function(a){e.clearHighlights()}),l.dispatch.on("onBrush",function(a){Q(a)}),E.on("changeState",function(b){void 0!==b.disabled&&k.length===b.disabled.length&&(k.forEach(function(a,c){a.disabled=b.disabled[c]}),B.disabled=b.disabled),void 0!==b.style&&(e.style(b.style),M=b.style),a.update()})}),L.renderEnd("stacked Area chart immediate"),a}var b,d,e=c.models.stackedArea(),f=d3.axisBottom().tickFormat(function(a){return a}).tickPadding(7),g=(w?d3.axisRight():d3.axisLeft()).tickFormat(function(a){return a}),h=c.models.legend(),i=c.models.legend(),j=c.interactiveGuideline(),k=c.models.tooltip(),l=c.models.focus(c.models.stackedArea()),m={top:10,right:25,bottom:50,left:60},n=null,o=null,p=null,q=c.utils.defaultColor(),r=!0,s=!0,t="top",u=!0,v=!0,w=!1,x=!1,y=!1,z=!0,A="TOTAL",B=c.utils.state(),C=null,D=null,E=d3.dispatch("stateChange","changeState","renderEnd"),F=250,G=["Stacked","Stream","Expanded"],H={},I=250;B.style=e.style(),k.headerFormatter(function(a,b){return f.tickFormat()(a,b)}).valueFormatter(function(a,b){return g.tickFormat()(a,b)}),j.tooltip.headerFormatter(function(a,b){return f.tickFormat()(a,b)}).valueFormatter(function(a,b){return null==a?"N/A":g.tickFormat()(a,b)});var J=null,K=null;i.updateState(!1);var L=c.utils.renderWatch(E),M=e.style(),N=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),style:e.style()}}},O=function(a){return function(b){void 0!==b.style&&(M=b.style),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},P=d3.format("%");return e.dispatch.on("elementMouseover.tooltip",function(a){a.point.x=e.x()(a.point),a.point.y=e.y()(a.point),k.data(a).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){k.hidden(!0)}),a.dispatch=E,a.stacked=e,a.legend=h,a.controls=i,a.xAxis=f,a.x2Axis=l.xAxis,a.yAxis=g,a.y2Axis=l.yAxis,a.interactiveLayer=j,a.tooltip=k,a.focus=l,a.dispatch=E,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return o},set:function(a){o=a}},height:{get:function(){return p},set:function(a){p=a}},showLegend:{get:function(){return s},set:function(a){s=a}},legendPosition:{get:function(){return t},set:function(a){t=a}},showXAxis:{get:function(){return u},set:function(a){u=a}},showYAxis:{get:function(){return v},set:function(a){v=a}},defaultState:{get:function(){return C},set:function(a){C=a}},noData:{get:function(){return D},set:function(a){D=a}},showControls:{get:function(){return r},set:function(a){r=a}},controlLabels:{get:function(){return H},set:function(a){H=a}},controlOptions:{get:function(){return G},set:function(a){G=a}},showTotalInTooltip:{get:function(){return z},set:function(a){z=a}},totalLabel:{get:function(){return A},set:function(a){A=a}},focusEnable:{get:function(){return x},set:function(a){x=a}},focusHeight:{get:function(){return l.height()},set:function(a){l.height(a)}},brushExtent:{get:function(){return l.brushExtent()},set:function(a){l.brushExtent(a)}},margin:{get:function(){return m},set:function(a){void 0!==a.top&&(m.top=a.top,n=a.top),m.right=void 0!==a.right?a.right:m.right,m.bottom=void 0!==a.bottom?a.bottom:m.bottom,m.left=void 0!==a.left?a.left:m.left}},focusMargin:{get:function(){return l.margin},set:function(a){l.margin.top=void 0!==a.top?a.top:l.margin.top,l.margin.right=void 0!==a.right?a.right:l.margin.right,l.margin.bottom=void 0!==a.bottom?a.bottom:l.margin.bottom,l.margin.left=void 0!==a.left?a.left:l.margin.left}},duration:{get:function(){return I},set:function(a){I=a,L.reset(I),e.duration(I),f.duration(I),g.duration(I)}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a),h.color(q),e.color(q),l.color(q)}},x:{get:function(){return e.x()},set:function(a){e.x(a),l.x(a)}},y:{get:function(){return e.y()},set:function(a){e.y(a),l.y(a)}},rightAlignYAxis:{get:function(){return w},set:function(a){w=a,g.orient(w?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(b){y=!!b,a.interactive(!b),a.useVoronoi(!b),e.scatter.interactive(!b)}}}),c.utils.inheritOptions(a,e),c.utils.initOptions(a),a},c.models.stackedAreaWithFocusChart=function(){return c.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},c.version="1.8.5-dev"}();
//# sourceMappingURL=nv.d3.min.js.map